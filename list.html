<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<link rel="stylesheet" href="css/list.css" />
	</head>
	<body>
		<div class="wrap">
			<div class="wrap-hd clearfix">
				<form id="searchForm">
					<div class="item clearfix">
						<div class="key">姓名：</div>
						<div class="value">
							<input class="inp-text" type="text" name="userName" />
						</div>
					</div>
					<div class="item clearfix">
						<div class="key">年龄：</div>
						<div class="value">
							<input class="inp-text" type="text" name="userAge" />
						</div>
					</div>
					<div class="item clearfix">
						<div class="key">性别：</div>
						<div class="value">
							<input class="inp-radio" type="radio" name="userSex" value="0"/>男
							<input class="inp-radio" type="radio" name="userSex" value="1" />女
						</div>
					</div>
				</form>
				<div class="item clearfix">
					<button class="btn" type="button">搜索</button>
					<button class="btn" id="addBtn" type="button">新增</button>
					<button class="btn" id="delBtn" type="button">删除</button>
				</div>
			</div>
	
	
			<table class="wrap-bd" border="1">
				<thead>
					<tr>
						<th><input type="checkbox" id="allChoose"></th>
						<th>姓名</th>
						<th>年龄</th>
						<th>性别</th>
						<th>籍贯</th>
						<th>身份证号码</th>
						<th>手机号码</th>
						<th>职业</th>
						<th>操作</th>
					</tr>
				</thead>
				<tbody>
					
				</tbody>
			</table>	
			
			
			
				
		</div>
		<script type="text/html" id="addHtml">
			<form>
				<div class="item clearfix">
					<div class="key">姓名：</div>
					<div class="value">
						<input class="inp-text" type="text" name="userName" />
					</div>
				</div>
				<div class="item clearfix">
					<div class="key">年龄：</div>
					<div class="value">
						<input class="inp-text" type="text" name="userName" />
					</div>
				</div>
				<div class="item clearfix">
					<div class="key">性别：</div>
					<div class="value">
						<input class="inp-radio" type="radio" name="userSex" value="0"/>男
						<input class="inp-radio" type="radio" name="userSex" value="1" />女
					</div>
				</div>
				<div class="item clearfix">
					<div class="key">籍贯：</div>
					<div class="value">
						<input class="inp-text" type="text" name="userName" />
					</div>
				</div>
				<div class="item clearfix">
					<div class="key">身份证号码：</div>
					<div class="value">
						<input class="inp-text" type="text" name="userName" />
					</div>
				</div>
				<div class="item clearfix">
					<div class="key">手机号码：</div>
					<div class="value">
						<input class="inp-text" type="text" name="userName" />
					</div>
				</div>
				<div class="item clearfix">
					<div class="key">职业：</div>
					<div class="value">
						<input class="inp-text" type="text" name="userName" />
					</div>
				</div>
				<div class="item clearfix">
					<button class="btn submitBtn" id="submitBtn" type="button">提交</button>
				</div>
			</form>
		</script>
		<script type="text/javascript" src="js/jquery.min.js" ></script>
		<script type="text/javascript" src="js/template.js" ></script>
		<script type="text/javascript" src="js/box.js" ></script>
		<script type="text/javascript" src="js/utils.js" ></script>
		<script type="text/javascript" src="js/list.js" ></script>
	</body>
</html>
<script type="text/javascript" src="js/jquery.min.js" ></script>
<script type="text/javascript" src="js/template.js" ></script>
<script type="text/javascript" src="js/box.js" ></script>
<script type="text/javascript" src="js/underscore-min.js"></script>
<script type="text/template" id="good">
<%for(var i =0;i<list.length;i++){%>			
		<tr>
			<td><input type="checkbox" class="choose"></td>
			<td><%=list[i].userName%></td>
			<td><%=list[i].userAge%></td>
			<td> 
				
			
				 
					女
				
			
			</td>
			<td><%=list[i].userNation%></td>
			<td><%=list[i].userCard%></td>
			<td><%=list[i].userPhone%></td>
			<td><%=list[i].userVoc%></td>
			<td>
				<button id="updateBtn" type="button">修改</button>
				<button id="delBtn" type="button">删除</button>
			</td>		
		</tr>
<%}%>		
</script>
<script type="text/javascript">
	$(window).ready(function(){
		var url = "json/list.json" ;
		
		var str = $("#good").html();
		
		var f = _.template(str);
		
			$.ajax({
				type:"get",
				url:url,
				async:true,
				success: function(data) {
							
					var obj = data;
	
					var h = f(obj);
	
					$(".wrap-bd tbody").html(h)
				}
			});
			$("#allChoose").click(function(){
				if($("#allChoose").prop("checked")==true){
					$(".choose").prop("checked",true);
				}else{
					$(".choose").prop("checked",false);
				}
			});
			
//			$(document).on("click", ".choose", function() {
//				
//			})
			$(".choose").click(function(){
				var a = $(".choose input:checked").length

				var b = $(".choose input:checkbox").length
				
				if (a == b) {
					$("#allChoose").prop("checked", true)
				} else {
					$("#allChoose").prop("checked", false)
				}
				
			})
			$("#addBtn").click(function(){
				alert("添加")
			})
		})			
</script>

	
